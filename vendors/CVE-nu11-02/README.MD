## Ship Ferry Ticket Reservation System `v1.0` 

![](https://github.com/nu11secur1ty/CVE-nu11secur1ty/blob/main/vendors/CVE-nu11-02/docs/Capture.PNG)

## Broken structure:
```php
	public function login(){
		extract($_POST);

		$qry = $this->conn->query("SELECT * from users where username = '$username' and password = md5('$password') ");
		if($qry->num_rows > 0){
			foreach($qry->fetch_array() as $k => $v){
				if(!is_numeric($k) && $k != 'password'){
					$this->settings->set_userdata($k,$v);
				}

			}
 ```
---------------------------------------------------------------------------------------------------------------------

## Simple fix, but not enough `strong`!!!:
```php
	public function login(){
		extract($_POST);

		$qry = $this->conn->query("SELECT * from users where username = ('$username') and password = md5('$password') ");
		if($qry->num_rows > 0){
			foreach($qry->fetch_array() as $k => $v){
				if(!is_numeric($k) && $k != 'password'){
					$this->settings->set_userdata($k,$v);
				}

			}
 ```
## Proof:
[href](https://streamable.com/h65olk)


### BR
[+] @nu11secur1ty
